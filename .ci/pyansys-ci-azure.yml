
trigger:
  branches:
    include:
    - '*'
    exclude:
    - gh-pages
  tags:
    include:
    - '*'

pr:
  branches:
    exclude:
    - '*'

jobs:
- job: DocGalleryBuild
  pool:
    vmImage: 'windows-2019'

  variables:
    python.version: '3.7'
    python.venv: 'docs_venv'

  steps:
  - task: UsePythonVersion@0
    displayName: 'Use Python $(python.version)'
    inputs:
      versionSpec: '$(python.version)'

  - task: UniversalPackages@0
    inputs:
      command: 'download'
      downloadDirectory: '$(System.DefaultWorkingDirectory)/aedt'
      feedsToUse: 'internal'
      vstsFeed: '705e121a-9631-49f5-8aaf-c7142856f923'
      vstsFeedPackage: 'aedt'
      vstsPackageVersion: '21.1.0'

  - powershell: |
      ls '$(System.DefaultWorkingDirectory)/aedt'
    displayName: Verify AEDT install
